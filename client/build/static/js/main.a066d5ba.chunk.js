(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var s,c,i,a,d,l,u=n(3),r=n(39),j=n.n(r),b=(n(51),n(8)),O=n(65),h=n(20),o=n(63),m=Object(o.a)(s||(s=Object(h.a)(["\n  {\n    students {\n      name\n      age\n      test1\n      id\n      class{\n        name\n      }\n    }\n  }\n"]))),x=Object(o.a)(c||(c=Object(h.a)(["\n  {\n    classes {\n      name\n      id\n    }\n  }\n"]))),f=Object(o.a)(i||(i=Object(h.a)(["\n  mutation addStudent(\n    $name: String!\n    $age: String!\n    $classId: ID!\n    $test1: String!\n  ) {\n    addStudent(name: $name, age: $age, classId: $classId, test1: $test1) {\n      name\n    }\n  }\n"]))),p=Object(o.a)(a||(a=Object(h.a)(["\n  mutation deleteStudent(\n    $id: ID!\n  ) {\n    deleteStudent(id: $id){\n      id\n    }\n  }\n"]))),v=Object(o.a)(d||(d=Object(h.a)(["\n  mutation editStudent(\n    $id: ID!\n    $name: String\n    $age: String\n    $test1: String\n  ) {\n    editStudent(id: $id, name: $name, age: $age, test1: $test1){\n      name\n      age\n      test1\n    }\n  }\n"]))),S=Object(o.a)(l||(l=Object(h.a)(["\n  query($id: ID){\n    student(id: $id){\n      id\n      name\n      age\n      test1\n      class{\n        id\n        name\n        year\n        students{\n          name\n          id\n        }\n      }\n    }\n  }\n"]))),g=n(66),C=n(2),E=function(e){var t=Object(g.a)(p),n=Object(b.a)(t,1)[0];return console.log(e),Object(C.jsx)("div",{id:"delete-function",children:Object(C.jsx)("h6",{id:"delete-student",onClick:function(t){t.preventDefault(),n({variables:{id:e.id,key:e.id},refetchQueries:[{query:m},{query:S}]})},children:"Delete Student"})})},$=function(e){var t=Object(u.useState)(),n=Object(b.a)(t,2),s=n[0],c=n[1],i=Object(u.useState)(),a=Object(b.a)(i,2),d=a[0],l=a[1],r=Object(u.useState)(),j=Object(b.a)(r,2),O=j[0],h=j[1],o=Object(g.a)(v),x=Object(b.a)(o,1)[0],f={id:e.student.id,name:s,age:d,class:e.student.class,test1:O};return Object(C.jsxs)("div",{id:"edit-form",children:[Object(C.jsx)("h4",{children:"Edit Student"}),Object(C.jsxs)("form",{id:"edit-student",onSubmit:function(t){t.preventDefault(),x({variables:{id:e.student.id,name:s,age:d,test1:O},refetchQueries:[{query:m}]}),e.setStudent(f),e.handleClick(f)},children:[Object(C.jsx)("div",{className:"field",onChange:function(e){return c(e.target.value)},children:Object(C.jsx)("input",{type:"text",value:s,placeholder:"Name"})}),Object(C.jsx)("div",{className:"field",onChange:function(e){return l(e.target.value)},children:Object(C.jsx)("input",{type:"text",value:d,placeholder:"Age"})}),Object(C.jsx)("div",{className:"field",onChange:function(e){return h(e.target.value)},children:Object(C.jsx)("input",{type:"text",value:O,placeholder:"Test 1 Score"})}),Object(C.jsx)("button",{id:"submit-button",type:"submit",children:"submit"})]})]})},N=function(e){e.setStudent.setStudent;return console.log("student details props",e),Object(C.jsxs)("div",{id:"student-details",children:[Object(C.jsxs)("h2",{children:["Name: ",e.student.name]}),Object(C.jsxs)("h3",{children:["Age: ",e.student.age]}),Object(C.jsxs)("h3",{children:["Class: ",e.student.class.name]}),Object(C.jsxs)("h3",{children:["Test 1 Score: ",e.student.test1]}),Object(C.jsx)($,{student:e.student,setStudent:e.setStudent,handleClick:e.handleClick}),Object(C.jsx)(E,{id:e.id,student:e.student,setStudent:e.setStudent})]})},y=function(){var e=Object(u.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],c=Object(u.useState)(""),i=Object(b.a)(c,2),a=i[0],d=i[1],l=Object(O.a)(m),r=l.loading,j=l.error,h=l.data;if(r)return Object(C.jsx)("p",{children:"Loading..."});if(j)return Object(C.jsx)("p",{children:"Error!"});for(var o=function(e){s(e)},x=[],f=0;f<h.students.length;f++)x.push(h.students[f]);for(var p=[],v=[],S=[],g=[],E=[{name:"allStudents",members:x},{name:"oneFE",members:p},{name:"oneFE2",members:v},{name:"twoFE",members:S},{name:"threeFE",members:g}],$=0;$<h.students.length;$++)"1FE1"===h.students[$].class.name?p.push(h.students[$]):"1FE2"===h.students[$].class.name?v.push(h.students[$]):"2FE"===h.students[$].class.name?S.push(h.students[$]):"3FE"===h.students[$].class.name&&g.push(h.students[$]);return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"class-buttons",children:E.map((function(e){return Object(C.jsx)("button",{type:"button",className:"main-buttons",onClick:function(){return d(e.name)},children:e.name},e.name)}))}),Object(C.jsx)("div",{className:"class-list",children:"allStudents"===a?Object(C.jsxs)("ul",{id:"student-list",children:[Object(C.jsx)("h3",{children:"All Students"}),h.students.map((function(e){return Object(C.jsx)("li",{onClick:function(t){return o(e)},children:e.name},e.id)}))]}):null}),Object(C.jsx)("div",{className:"class-list",children:"oneFE"===a?Object(C.jsxs)("ul",{id:"student-list",children:[Object(C.jsx)("h3",{children:"1FE1 Students"}),p.map((function(e){return Object(C.jsx)("li",{onClick:function(t){return o(e)},children:e.name},e.id)}))]}):null}),Object(C.jsx)("div",{className:"class-list",children:"oneFE2"===a?Object(C.jsxs)("ul",{id:"student-list",children:[Object(C.jsx)("h3",{children:"1FE2 Students"}),v.map((function(e){return Object(C.jsx)("li",{onClick:function(t){return o(e)},children:e.name},e.id)}))]}):null}),Object(C.jsx)("div",{className:"class-list",children:"twoFE"===a?Object(C.jsxs)("ul",{id:"student-list",children:[Object(C.jsx)("h3",{children:"2FE Students"}),S.map((function(e){return Object(C.jsx)("li",{onClick:function(t){return o(e)},children:e.name},e.id)}))]}):null}),Object(C.jsx)("div",{className:"class-list",children:"threeFE"===a?Object(C.jsxs)("ul",{id:"student-list",children:[Object(C.jsx)("h3",{children:"3FE Students"}),g.map((function(e){return Object(C.jsx)("li",{onClick:function(t){return o(e)},children:e.name},e.id)}))]}):null}),Object(C.jsx)("div",{children:n?Object(C.jsx)("div",{children:Object(C.jsx)(N,{id:n.id,student:n,setStudent:s,handleClick:o},n.id)}):Object(C.jsx)("p",{children:"No Student Selected"})})]})},F=function(){var e=Object(O.a)(x),t=e.data,n=e.loading,s=e.error,c=Object(u.useState)(""),i=Object(b.a)(c,2),a=i[0],d=i[1],l=Object(u.useState)(""),r=Object(b.a)(l,2),j=r[0],h=r[1],o=Object(u.useState)(""),p=Object(b.a)(o,2),v=p[0],S=p[1],E=Object(u.useState)(""),$=Object(b.a)(E,2),N=$[0],y=$[1],F=Object(g.a)(f),k=Object(b.a)(F,1)[0];return n?Object(C.jsx)("p",{children:"Loading..."}):s?Object(C.jsx)("p",{children:"Error!"}):Object(C.jsxs)("form",{id:"add-student",onSubmit:function(e){e.preventDefault(),k({variables:{name:a,age:j,classId:v,test1:N},refetchQueries:[{query:m}]})},children:[Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{children:"Student Name:"}),Object(C.jsx)("input",{type:"text",value:a,onChange:function(e){return d(e.target.value)}})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{children:"Age:"}),Object(C.jsx)("input",{type:"text",value:j,onChange:function(e){return h(e.target.value)}})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{children:"Test1:"}),Object(C.jsx)("input",{type:"text",value:N,onChange:function(e){return y(e.target.value)}})]}),Object(C.jsxs)("div",{className:"field",children:[Object(C.jsx)("label",{children:"Class:"}),Object(C.jsxs)("select",{value:v,onChange:function(e){return S(e.target.value)},children:[Object(C.jsx)("option",{children:"Select Class"}),t.classes.map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(C.jsx)("button",{children:"+"})]})};var k=function(){return Object(C.jsxs)("div",{id:"main",children:[Object(C.jsx)("h1",{children:"Student Tracker"}),Object(C.jsx)(y,{"data-testid":"studentListApp"}),Object(C.jsx)(F,{})]})},I=n(61),D=n(62),q=n(64),w=new D.a({uri:"http://localhost:4001/graphql",cache:new q.a});j.a.render(Object(C.jsx)(I.a,{client:w,children:Object(C.jsx)(k,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.a066d5ba.chunk.js.map